title=Uniplate
tags=library haskell phd popular released

<p>
    This library (formerly known as 'Play') provides a framework for generic traversals, and is intended to be used in a similar manner to the original <a href="http://www.cs.vu.nl/boilerplate/">Scrap Your Boilerplate</a> paper.
</p>
<p>
    An example of how Uniplate can reduce boilerplate:
</p>
<pre>
data Expr  =  Add  Expr  Expr  | Val  Int
           |  Sub  Expr  Expr  | Var  String
           |  Mul  Expr  Expr  | Neg  Expr
           |  Div  Expr  Expr

variables :: Expr -> [String]
variables (Var  x  ) = [x]
variables (Val  x  ) = []
variables (Neg  x  ) = variables x
variables (Add  x y) = variables x ++ variables y
variables (Sub  x y) = variables x ++ variables y
variables (Mul  x y) = variables x ++ variables y
variables (Div  x y) = variables x ++ variables y
</pre>
<p>
    The code for <tt>variables</tt> is not very nice, however, using Uniplate we can rewrite this as:
</p>
<pre>
variables :: Expr -> [String]
variables x = [y | Var y &lt;- universe x]
</pre>
